<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GASTS</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#d4af37;
  --dark:#05080a;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:radial-gradient(circle at top,#1b2735,#05080a);
  color:#fff;
  min-height:100vh;
  text-align:center;
}
header{
  padding:60px 20px 30px;
}
.logo{
  font-size:90px;
  font-weight:900;
  background:linear-gradient(#fff,var(--gold));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
button{
  padding:15px 35px;
  border-radius:40px;
  border:none;
  cursor:pointer;
  font-weight:800;
  font-size:16px;
}
.btn-main{
  background:#fff;
  color:#000;
}
.btn-main:hover{background:var(--gold);color:#000}

#userBox{
  position:fixed;
  top:20px;
  right:20px;
  background:rgba(0,0,0,.7);
  border:1px solid rgba(212,175,55,.3);
  padding:8px 18px;
  border-radius:40px;
  display:none;
  font-weight:700;
}

.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  align-items:center;
  justify-content:center;
}
.modal-content{
  background:#0b0f14;
  border:1px solid rgba(212,175,55,.3);
  padding:30px;
  border-radius:25px;
  width:90%;
  max-width:360px;
}
input{
  width:100%;
  padding:14px;
  margin-bottom:12px;
  border-radius:12px;
  border:none;
  background:#161b22;
  color:#fff;
  font-family:'Cairo';
}
</style>
</head>

<body>

<div id="userBox">ğŸ‘¤ <span id="userName"></span></div>

<header>
  <div class="logo">GASTS</div>
  <p style="opacity:.8">Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„ÙØ§Ø®Ø±</p>
</header>

<button class="btn-main" onclick="openAuth()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="authModal" class="modal">
  <div class="modal-content">
    <h3 style="color:var(--gold)">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
    <input id="email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button class="btn-main" style="width:100%" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <button style="margin-top:10px;background:none;border:1px solid var(--gold);color:var(--gold);width:100%" onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
    <div style="margin-top:15px;opacity:.6;cursor:pointer" onclick="closeAuth()">Ø¥ØºÙ„Ø§Ù‚</div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const supabase = window.supabase.createClient(
 "https://hdyqcgsrjnciamsyeyla.supabase.co",
 "sb_publishable_tlwDSDSqkIpBdKGe_oA4Gg_twuI4nJC"
);

function openAuth(){document.getElementById('authModal').style.display='flex'}
function closeAuth(){document.getElementById('authModal').style.display='none'}

async function login(){
 const email=email.value.trim();
 const password=password.value.trim();
 const {data,error}=await supabase.auth.signInWithPassword({email,password});
 if(error) return alert(error.message);
 loadUser();
 closeAuth();
}

async function signup(){
 const email=email.value.trim();
 const password=password.value.trim();
 const {error}=await supabase.auth.signUp({email,password});
 if(error) alert(error.message);
 else alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ â€“ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ");
}

async function loadUser(){
 const {data:{user}}=await supabase.auth.getUser();
 if(user){
   document.getElementById('userName').innerText=user.email.split('@')[0];
   document.getElementById('userBox').style.display='block';
 }
}

loadUser();
</script>

</body>
</html>
